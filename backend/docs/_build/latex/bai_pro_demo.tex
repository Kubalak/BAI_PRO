%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,11pt,polish]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{booktabs}{sphinx}
\PassOptionsToPackage{colorrows}{sphinx}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Sonny]{fncychap}
\ChNameVar{\Large\normalfont\sffamily}
\ChTitleVar{\Large\normalfont\sffamily}
\usepackage{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionspolish{\renewcommand{\contentsname}{Contents:}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{1}


    \usepackage{listings}
    \lstset{
        language=Python,
        title=\lstname
    }
    

\title{BAI\_PRO\_DEMO}
\date{24 lis 2023}
\release{1.0.0}
\author{Patryk Jaworski, Jakub Jach}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Wydanie}
\makeindex
\begin{document}

\ifdefined\shorthandoff
  \ifnum\catcode`\=\string=\active\shorthandoff{=}\fi
  \ifnum\catcode`\"=\active\shorthandoff{"}\fi
\fi

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}


\sphinxstepscope


\chapter{backend}
\label{\detokenize{modules:backend}}\label{\detokenize{modules::doc}}
\sphinxstepscope


\section{backend package}
\label{\detokenize{backend:backend-package}}\label{\detokenize{backend::doc}}

\subsection{Submodules}
\label{\detokenize{backend:submodules}}

\subsection{backend.asgi module}
\label{\detokenize{backend:module-backend.asgi}}\label{\detokenize{backend:backend-asgi-module}}\index{module@\spxentry{module}!backend.asgi@\spxentry{backend.asgi}}\index{backend.asgi@\spxentry{backend.asgi}!module@\spxentry{module}}
\sphinxAtStartPar
ASGI config for projectBAI project.

\sphinxAtStartPar
It exposes the ASGI callable as a module\sphinxhyphen{}level variable named \sphinxcode{\sphinxupquote{application}}.

\sphinxAtStartPar
For more information on this file, see
\sphinxurl{https://docs.djangoproject.com/en/4.2/howto/deployment/asgi/}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{ASGI config for projectBAI project.}

\PYG{l+s+sd}{It exposes the ASGI callable as a module\PYGZhy{}level variable named ``application``.}

\PYG{l+s+sd}{For more information on this file, see}
\PYG{l+s+sd}{https://docs.djangoproject.com/en/4.2/howto/deployment/asgi/}
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}

\PYG{k+kn}{import} \PYG{n+nn}{os}

\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{asgi} \PYG{k+kn}{import} \PYG{n}{get\PYGZus{}asgi\PYGZus{}application}

\PYG{n}{os}\PYG{o}{.}\PYG{n}{environ}\PYG{o}{.}\PYG{n}{setdefault}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{DJANGO\PYGZus{}SETTINGS\PYGZus{}MODULE}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{backend.settings}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n}{application} \PYG{o}{=} \PYG{n}{get\PYGZus{}asgi\PYGZus{}application}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{backend.settings module}
\label{\detokenize{backend:module-backend.settings}}\label{\detokenize{backend:backend-settings-module}}\index{module@\spxentry{module}!backend.settings@\spxentry{backend.settings}}\index{backend.settings@\spxentry{backend.settings}!module@\spxentry{module}}
\sphinxAtStartPar
Django settings for projectBAI project.

\sphinxAtStartPar
Generated by «django\sphinxhyphen{}admin startproject» using Django 4.2.4.

\sphinxAtStartPar
For more information on this file, see
\sphinxurl{https://docs.djangoproject.com/en/4.2/topics/settings/}

\sphinxAtStartPar
For the full list of settings and their values, see
\sphinxurl{https://docs.djangoproject.com/en/4.2/ref/settings/}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{Django settings for projectBAI project.}

\PYG{l+s+sd}{Generated by \PYGZsq{}django\PYGZhy{}admin startproject\PYGZsq{} using Django 4.2.4.}

\PYG{l+s+sd}{For more information on this file, see}
\PYG{l+s+sd}{https://docs.djangoproject.com/en/4.2/topics/settings/}

\PYG{l+s+sd}{For the full list of settings and their values, see}
\PYG{l+s+sd}{https://docs.djangoproject.com/en/4.2/ref/settings/}
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}

\PYG{k+kn}{from} \PYG{n+nn}{pathlib} \PYG{k+kn}{import} \PYG{n}{Path}
\PYG{k+kn}{import} \PYG{n+nn}{environ}

\PYG{n}{env} \PYG{o}{=} \PYG{n}{environ}\PYG{o}{.}\PYG{n}{Env}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{environ}\PYG{o}{.}\PYG{n}{Env}\PYG{o}{.}\PYG{n}{read\PYGZus{}env}\PYG{p}{(}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} Build paths inside the project like this: BASE\PYGZus{}DIR / \PYGZsq{}subdir\PYGZsq{}.}
\PYG{n}{BASE\PYGZus{}DIR} \PYG{o}{=} \PYG{n}{Path}\PYG{p}{(}\PYG{n+nv+vm}{\PYGZus{}\PYGZus{}file\PYGZus{}\PYGZus{}}\PYG{p}{)}\PYG{o}{.}\PYG{n}{resolve}\PYG{p}{(}\PYG{p}{)}\PYG{o}{.}\PYG{n}{parent}\PYG{o}{.}\PYG{n}{parent}


\PYG{c+c1}{\PYGZsh{} Quick\PYGZhy{}start development settings \PYGZhy{} unsuitable for production}
\PYG{c+c1}{\PYGZsh{} See https://docs.djangoproject.com/en/4.2/howto/deployment/checklist/}

\PYG{c+c1}{\PYGZsh{} SECURITY WARNING: keep the secret key used in production secret!}
\PYG{n}{SECRET\PYGZus{}KEY} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django\PYGZhy{}insecure\PYGZhy{}emp8g=\PYGZdl{}\PYGZam{}}\PYG{l+s+s1}{\PYGZpc{}}\PYG{l+s+s1}{83\PYGZca{}zjr1\PYGZsh{}4uip\PYGZdl{}ujoh0j3kv)\PYGZam{}khfj\PYGZdl{}\PYGZus{}*1cc\PYGZsh{}0\PYGZca{}wht@}\PYG{l+s+s1}{\PYGZsq{}}

\PYG{c+c1}{\PYGZsh{} SECURITY WARNING: don\PYGZsq{}t run with debug turned on in production!}
\PYG{n}{DEBUG} \PYG{o}{=} \PYG{k+kc}{True}

\PYG{n}{ALLOWED\PYGZus{}HOSTS} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}


\PYG{c+c1}{\PYGZsh{} Application definition}

\PYG{n}{INSTALLED\PYGZus{}APPS} \PYG{o}{=} \PYG{p}{[}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{mainApp}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{corsheaders}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django\PYGZus{}otp}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.admin}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.auth}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.contenttypes}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.sessions}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.messages}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.staticfiles}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
\PYG{p}{]}

\PYG{n}{MIDDLEWARE} \PYG{o}{=} \PYG{p}{[}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{corsheaders.middleware.CorsMiddleware}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.middleware.security.SecurityMiddleware}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.sessions.middleware.SessionMiddleware}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.middleware.common.CommonMiddleware}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.middleware.csrf.CsrfViewMiddleware}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.auth.middleware.AuthenticationMiddleware}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.messages.middleware.MessageMiddleware}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.middleware.clickjacking.XFrameOptionsMiddleware}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
\PYG{p}{]}

\PYG{n}{ROOT\PYGZus{}URLCONF} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{backend.urls}\PYG{l+s+s1}{\PYGZsq{}}

\PYG{n}{TEMPLATES} \PYG{o}{=} \PYG{p}{[}
    \PYG{p}{\PYGZob{}}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{BACKEND}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.template.backends.django.DjangoTemplates}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{DIRS}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{p}{[}\PYG{p}{]}\PYG{p}{,}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{APP\PYGZus{}DIRS}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{k+kc}{True}\PYG{p}{,}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{OPTIONS}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{context\PYGZus{}processors}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{p}{[}
                \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.template.context\PYGZus{}processors.debug}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
                \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.template.context\PYGZus{}processors.request}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
                \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.auth.context\PYGZus{}processors.auth}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
                \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.messages.context\PYGZus{}processors.messages}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
            \PYG{p}{]}\PYG{p}{,}
        \PYG{p}{\PYGZcb{}}\PYG{p}{,}
    \PYG{p}{\PYGZcb{}}\PYG{p}{,}
\PYG{p}{]}

\PYG{n}{WSGI\PYGZus{}APPLICATION} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{backend.wsgi.application}\PYG{l+s+s1}{\PYGZsq{}}


\PYG{c+c1}{\PYGZsh{} Database}
\PYG{c+c1}{\PYGZsh{} https://docs.djangoproject.com/en/4.2/ref/settings/\PYGZsh{}databases}

\PYG{n}{DATABASES} \PYG{o}{=} \PYG{p}{\PYGZob{}}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{default}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ENGINE}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.db.backends.sqlite3}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{NAME}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{BASE\PYGZus{}DIR} \PYG{o}{/} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{db.sqlite3}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZcb{}}


\PYG{c+c1}{\PYGZsh{} Password validation}
\PYG{c+c1}{\PYGZsh{} https://docs.djangoproject.com/en/4.2/ref/settings/\PYGZsh{}auth\PYGZhy{}password\PYGZhy{}validators}

\PYG{n}{AUTH\PYGZus{}PASSWORD\PYGZus{}VALIDATORS} \PYG{o}{=} \PYG{p}{[}
    \PYG{p}{\PYGZob{}}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{NAME}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.auth.password\PYGZus{}validation.UserAttributeSimilarityValidator}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{p}{\PYGZcb{}}\PYG{p}{,}
    \PYG{p}{\PYGZob{}}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{NAME}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.auth.password\PYGZus{}validation.MinimumLengthValidator}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{p}{\PYGZcb{}}\PYG{p}{,}
    \PYG{p}{\PYGZob{}}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{NAME}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.auth.password\PYGZus{}validation.CommonPasswordValidator}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{p}{\PYGZcb{}}\PYG{p}{,}
    \PYG{p}{\PYGZob{}}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{NAME}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.contrib.auth.password\PYGZus{}validation.NumericPasswordValidator}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{p}{\PYGZcb{}}\PYG{p}{,}
\PYG{p}{]}


\PYG{c+c1}{\PYGZsh{} Internationalization}
\PYG{c+c1}{\PYGZsh{} https://docs.djangoproject.com/en/4.2/topics/i18n/}

\PYG{n}{LANGUAGE\PYGZus{}CODE} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{pl\PYGZhy{}pl}\PYG{l+s+s1}{\PYGZsq{}}

\PYG{n}{TIME\PYGZus{}ZONE} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Europe/Warsaw}\PYG{l+s+s1}{\PYGZsq{}}

\PYG{n}{USE\PYGZus{}I18N} \PYG{o}{=} \PYG{k+kc}{True}

\PYG{n}{USE\PYGZus{}TZ} \PYG{o}{=} \PYG{k+kc}{True}


\PYG{c+c1}{\PYGZsh{} Static files (CSS, JavaScript, Images)}
\PYG{c+c1}{\PYGZsh{} https://docs.djangoproject.com/en/4.2/howto/static\PYGZhy{}files/}

\PYG{n}{STATIC\PYGZus{}URL} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{static/}\PYG{l+s+s1}{\PYGZsq{}}

\PYG{c+c1}{\PYGZsh{} Default primary key field type}
\PYG{c+c1}{\PYGZsh{} https://docs.djangoproject.com/en/4.2/ref/settings/\PYGZsh{}default\PYGZhy{}auto\PYGZhy{}field}

\PYG{n}{DEFAULT\PYGZus{}AUTO\PYGZus{}FIELD} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.db.models.BigAutoField}\PYG{l+s+s1}{\PYGZsq{}}

\PYG{n}{CORS\PYGZus{}ALLOW\PYGZus{}CREDENTIALS} \PYG{o}{=} \PYG{k+kc}{True}

\PYG{n}{CORS\PYGZus{}ALLOW\PYGZus{}HEADERS} \PYG{o}{=} \PYG{p}{[}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{access\PYGZhy{}control\PYGZhy{}allow\PYGZhy{}origin}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{access\PYGZhy{}control\PYGZhy{}allow\PYGZhy{}credentials}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{content\PYGZhy{}type}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{accept}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{x\PYGZhy{}csrftoken}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
\PYG{p}{]}

\PYG{n}{CSRF\PYGZus{}TRUSTED\PYGZus{}ORIGINS} \PYG{o}{=} \PYG{p}{[}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{http://localhost:5173}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{p}{]}

\PYG{n}{CORS\PYGZus{}ALLOWED\PYGZus{}ORIGINS} \PYG{o}{=} \PYG{p}{[}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{http://localhost:5173}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{p}{]}

\PYG{n}{EMAIL\PYGZus{}BACKEND} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.core.mail.backends.smtp.EmailBackend}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{n}{EMAIL\PYGZus{}HOST} \PYG{o}{=} \PYG{n}{env}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{EMAIL\PYGZus{}HOST}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{EMAIL\PYGZus{}PORT} \PYG{o}{=} \PYG{l+m+mi}{587}
\PYG{n}{EMAIL\PYGZus{}USE\PYGZus{}TLS} \PYG{o}{=} \PYG{k+kc}{True}
\PYG{n}{EMAIL\PYGZus{}HOST\PYGZus{}USER} \PYG{o}{=} \PYG{n}{env}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{EMAIL\PYGZus{}HOST\PYGZus{}USER}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{EMAIL\PYGZus{}HOST\PYGZus{}PASSWORD} \PYG{o}{=} \PYG{n}{env}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{EMAIL\PYGZus{}HOST\PYGZus{}PASSWORD}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{backend.urls module}
\label{\detokenize{backend:module-backend.urls}}\label{\detokenize{backend:backend-urls-module}}\index{module@\spxentry{module}!backend.urls@\spxentry{backend.urls}}\index{backend.urls@\spxentry{backend.urls}!module@\spxentry{module}}
\sphinxAtStartPar
URL configuration for projectBAI project.
\begin{description}
\sphinxlineitem{The \sphinxtitleref{urlpatterns} list routes URLs to views. For more information please see:}
\sphinxAtStartPar
\sphinxurl{https://docs.djangoproject.com/en/4.2/topics/http/urls/}

\end{description}

\sphinxAtStartPar
Examples:
Function views
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Add an import:  from my\_app import views

\item {} 
\sphinxAtStartPar
Add a URL to urlpatterns:  path(«», views.home, name=»home»)

\end{enumerate}
\begin{description}
\sphinxlineitem{Class\sphinxhyphen{}based views}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Add an import:  from other\_app.views import Home

\item {} 
\sphinxAtStartPar
Add a URL to urlpatterns:  path(«», Home.as\_view(), name=»home»)

\end{enumerate}

\sphinxlineitem{Including another URLconf}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Import the include() function: from django.urls import include, path

\item {} 
\sphinxAtStartPar
Add a URL to urlpatterns:  path(«blog/», include(«blog.urls»))

\end{enumerate}

\end{description}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{URL configuration for projectBAI project.}

\PYG{l+s+sd}{The `urlpatterns` list routes URLs to views. For more information please see:}
\PYG{l+s+sd}{    https://docs.djangoproject.com/en/4.2/topics/http/urls/}
\PYG{l+s+sd}{Examples:}
\PYG{l+s+sd}{Function views}
\PYG{l+s+sd}{    1. Add an import:  from my\PYGZus{}app import views}
\PYG{l+s+sd}{    2. Add a URL to urlpatterns:  path(\PYGZsq{}\PYGZsq{}, views.home, name=\PYGZsq{}home\PYGZsq{})}
\PYG{l+s+sd}{Class\PYGZhy{}based views}
\PYG{l+s+sd}{    1. Add an import:  from other\PYGZus{}app.views import Home}
\PYG{l+s+sd}{    2. Add a URL to urlpatterns:  path(\PYGZsq{}\PYGZsq{}, Home.as\PYGZus{}view(), name=\PYGZsq{}home\PYGZsq{})}
\PYG{l+s+sd}{Including another URLconf}
\PYG{l+s+sd}{    1. Import the include() function: from django.urls import include, path}
\PYG{l+s+sd}{    2. Add a URL to urlpatterns:  path(\PYGZsq{}blog/\PYGZsq{}, include(\PYGZsq{}blog.urls\PYGZsq{}))}
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{contrib} \PYG{k+kn}{import} \PYG{n}{admin}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{urls} \PYG{k+kn}{import} \PYG{n}{path}\PYG{p}{,} \PYG{n}{include}
\PYG{k+kn}{from} \PYG{n+nn}{mainApp} \PYG{k+kn}{import} \PYG{n}{views}

\PYG{n}{urlpatterns} \PYG{o}{=} \PYG{p}{[}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{main/}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{include}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{mainApp.urls}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{admin/}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{admin}\PYG{o}{.}\PYG{n}{site}\PYG{o}{.}\PYG{n}{urls}\PYG{p}{)}\PYG{p}{,}
\PYG{p}{]}
\end{sphinxVerbatim}


\subsection{backend.wsgi module}
\label{\detokenize{backend:module-backend.wsgi}}\label{\detokenize{backend:backend-wsgi-module}}\index{module@\spxentry{module}!backend.wsgi@\spxentry{backend.wsgi}}\index{backend.wsgi@\spxentry{backend.wsgi}!module@\spxentry{module}}
\sphinxAtStartPar
WSGI config for projectBAI project.

\sphinxAtStartPar
It exposes the WSGI callable as a module\sphinxhyphen{}level variable named \sphinxcode{\sphinxupquote{application}}.

\sphinxAtStartPar
For more information on this file, see
\sphinxurl{https://docs.djangoproject.com/en/4.2/howto/deployment/wsgi/}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{WSGI config for projectBAI project.}

\PYG{l+s+sd}{It exposes the WSGI callable as a module\PYGZhy{}level variable named ``application``.}

\PYG{l+s+sd}{For more information on this file, see}
\PYG{l+s+sd}{https://docs.djangoproject.com/en/4.2/howto/deployment/wsgi/}
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}

\PYG{k+kn}{import} \PYG{n+nn}{os}

\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{wsgi} \PYG{k+kn}{import} \PYG{n}{get\PYGZus{}wsgi\PYGZus{}application}

\PYG{n}{os}\PYG{o}{.}\PYG{n}{environ}\PYG{o}{.}\PYG{n}{setdefault}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{DJANGO\PYGZus{}SETTINGS\PYGZus{}MODULE}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{backend.settings}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n}{application} \PYG{o}{=} \PYG{n}{get\PYGZus{}wsgi\PYGZus{}application}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Module contents}
\label{\detokenize{backend:module-backend}}\label{\detokenize{backend:module-contents}}\index{module@\spxentry{module}!backend@\spxentry{backend}}\index{backend@\spxentry{backend}!module@\spxentry{module}}
\sphinxstepscope


\section{mainApp package}
\label{\detokenize{mainApp:mainapp-package}}\label{\detokenize{mainApp::doc}}

\subsection{Submodules}
\label{\detokenize{mainApp:submodules}}

\subsection{mainApp.admin module}
\label{\detokenize{mainApp:module-mainApp.admin}}\label{\detokenize{mainApp:mainapp-admin-module}}\index{module@\spxentry{module}!mainApp.admin@\spxentry{mainApp.admin}}\index{mainApp.admin@\spxentry{mainApp.admin}!module@\spxentry{module}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{contrib} \PYG{k+kn}{import} \PYG{n}{admin}
\PYG{k+kn}{from} \PYG{n+nn}{.}\PYG{n+nn}{models} \PYG{k+kn}{import} \PYG{o}{*}

\PYG{n}{admin}\PYG{o}{.}\PYG{n}{site}\PYG{o}{.}\PYG{n}{register}\PYG{p}{(}\PYG{n}{Comment}\PYG{p}{)}
\PYG{n}{admin}\PYG{o}{.}\PYG{n}{site}\PYG{o}{.}\PYG{n}{register}\PYG{p}{(}\PYG{n}{UserProfile}\PYG{p}{)}

\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{Konfiguracja panelu administracyjnego.}

\PYG{l+s+sd}{Rejestruje modele `Comment` i `UserProfile` w panelu administracyjnym Django.}
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\end{sphinxVerbatim}


\subsection{mainApp.apps module}
\label{\detokenize{mainApp:module-mainApp.apps}}\label{\detokenize{mainApp:mainapp-apps-module}}\index{module@\spxentry{module}!mainApp.apps@\spxentry{mainApp.apps}}\index{mainApp.apps@\spxentry{mainApp.apps}!module@\spxentry{module}}\index{MainappConfig (klasa w module mainApp.apps)@\spxentry{MainappConfig}\spxextra{klasa w module mainApp.apps}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.apps.MainappConfig}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{mainApp.apps.}}\sphinxbfcode{\sphinxupquote{MainappConfig}}}{\sphinxparam{\DUrole{n}{app\_name}}\sphinxparamcomma \sphinxparam{\DUrole{n}{app\_module}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{AppConfig}}
\index{default\_auto\_field (mainApp.apps.MainappConfig atrybut)@\spxentry{default\_auto\_field}\spxextra{mainApp.apps.MainappConfig atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.apps.MainappConfig.default_auto_field}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{default\_auto\_field}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }\textquotesingle{}django.db.models.BigAutoField\textquotesingle{}}}}
\pysigstopsignatures
\end{fulllineitems}

\index{name (mainApp.apps.MainappConfig atrybut)@\spxentry{name}\spxextra{mainApp.apps.MainappConfig atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.apps.MainappConfig.name}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{name}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }\textquotesingle{}mainApp\textquotesingle{}}}}
\pysigstopsignatures
\end{fulllineitems}


\end{fulllineitems}


\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{apps} \PYG{k+kn}{import} \PYG{n}{AppConfig}
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Klasa konfiguracyjna aplikacji głównej.}
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{k}{class} \PYG{n+nc}{MainappConfig}\PYG{p}{(}\PYG{n}{AppConfig}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{default\PYGZus{}auto\PYGZus{}field} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{django.db.models.BigAutoField}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{n}{name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{mainApp}\PYG{l+s+s1}{\PYGZsq{}}
\end{sphinxVerbatim}


\subsection{mainApp.decorators module}
\label{\detokenize{mainApp:module-mainApp.decorators}}\label{\detokenize{mainApp:mainapp-decorators-module}}\index{module@\spxentry{module}!mainApp.decorators@\spxentry{mainApp.decorators}}\index{mainApp.decorators@\spxentry{mainApp.decorators}!module@\spxentry{module}}\index{require\_login() (w module mainApp.decorators)@\spxentry{require\_login()}\spxextra{w module mainApp.decorators}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.decorators.require_login}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{mainApp.decorators.}}\sphinxbfcode{\sphinxupquote{require\_login}}}{\sphinxparam{\DUrole{n}{func}}\sphinxparamcomma \sphinxparam{\DUrole{o}{*}\DUrole{n}{args}}\sphinxparamcomma \sphinxparam{\DUrole{o}{**}\DUrole{n}{kwargs}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Sprawdza, czy użytkownik jest zalogowany. Zwraca 401 z komunikatem błędu JSON, jeśli użytkownik nie jest zalogowany.

\end{fulllineitems}


\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{http} \PYG{k+kn}{import} \PYG{n}{HttpRequest}\PYG{p}{,} \PYG{n}{JsonResponse}
\PYG{k}{def} \PYG{n+nf}{require\PYGZus{}login}\PYG{p}{(}\PYG{n}{func}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwargs}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Sprawdza, czy użytkownik jest zalogowany. Zwraca 401 z komunikatem błędu JSON, jeśli użytkownik nie jest zalogowany.}

\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{def} \PYG{n+nf}{\PYGZus{}wrapper}\PYG{p}{(}\PYG{n}{request}\PYG{p}{:}\PYG{n}{HttpRequest}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{if} \PYG{n}{request}\PYG{o}{.}\PYG{n}{user}\PYG{o}{.}\PYG{n}{is\PYGZus{}authenticated}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{func}\PYG{p}{(}\PYG{n}{request}\PYG{p}{,} \PYG{o}{*}\PYG{n}{args}\PYG{p}{,} \PYG{o}{*}\PYG{o}{*}\PYG{n}{kwargs}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{error}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Please log in first!}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{401}\PYG{p}{)}
    \PYG{k}{return} \PYG{n}{\PYGZus{}wrapper}
\end{sphinxVerbatim}


\subsection{mainApp.forms module}
\label{\detokenize{mainApp:module-mainApp.forms}}\label{\detokenize{mainApp:mainapp-forms-module}}\index{module@\spxentry{module}!mainApp.forms@\spxentry{mainApp.forms}}\index{mainApp.forms@\spxentry{mainApp.forms}!module@\spxentry{module}}\index{UserForm (klasa w module mainApp.forms)@\spxentry{UserForm}\spxextra{klasa w module mainApp.forms}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.forms.UserForm}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{mainApp.forms.}}\sphinxbfcode{\sphinxupquote{UserForm}}}{\sphinxparam{\DUrole{o}{*}\DUrole{n}{args}}\sphinxparamcomma \sphinxparam{\DUrole{o}{**}\DUrole{n}{kwargs}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{UserCreationForm}}

\sphinxAtStartPar
Formularz rejestracji użytkownika z możliwością włączenia uwierzytelniania dwuetapowego.

\sphinxAtStartPar
Dziedziczy po klasie UserCreationForm i dodaje pole \sphinxtitleref{email} oraz \sphinxtitleref{enable\_2fa} do standardowego formularza rejestracji.
\index{UserForm.Meta (klasa w module mainApp.forms)@\spxentry{UserForm.Meta}\spxextra{klasa w module mainApp.forms}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.forms.UserForm.Meta}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{Meta}}}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{object}}
\index{fields (mainApp.forms.UserForm.Meta atrybut)@\spxentry{fields}\spxextra{mainApp.forms.UserForm.Meta atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.forms.UserForm.Meta.fields}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{fields}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }(\textquotesingle{}username\textquotesingle{}, \textquotesingle{}email\textquotesingle{}, \textquotesingle{}password1\textquotesingle{}, \textquotesingle{}password2\textquotesingle{})}}}
\pysigstopsignatures
\end{fulllineitems}

\index{model (mainApp.forms.UserForm.Meta atrybut)@\spxentry{model}\spxextra{mainApp.forms.UserForm.Meta atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.forms.UserForm.Meta.model}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{model}}}
\pysigstopsignatures
\sphinxAtStartPar
alias of \sphinxcode{\sphinxupquote{User}}

\end{fulllineitems}


\end{fulllineitems}

\index{base\_fields (mainApp.forms.UserForm atrybut)@\spxentry{base\_fields}\spxextra{mainApp.forms.UserForm atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.forms.UserForm.base_fields}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{base\_fields}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }\{\textquotesingle{}email\textquotesingle{}: \textless{}django.forms.fields.EmailField object\textgreater{}, \textquotesingle{}enable\_2fa\textquotesingle{}: \textless{}django.forms.fields.BooleanField object\textgreater{}, \textquotesingle{}password1\textquotesingle{}: \textless{}django.forms.fields.CharField object\textgreater{}, \textquotesingle{}password2\textquotesingle{}: \textless{}django.forms.fields.CharField object\textgreater{}, \textquotesingle{}username\textquotesingle{}: \textless{}django.forms.fields.CharField object\textgreater{}\}}}}
\pysigstopsignatures
\end{fulllineitems}

\index{declared\_fields (mainApp.forms.UserForm atrybut)@\spxentry{declared\_fields}\spxextra{mainApp.forms.UserForm atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.forms.UserForm.declared_fields}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{declared\_fields}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }\{\textquotesingle{}email\textquotesingle{}: \textless{}django.forms.fields.EmailField object\textgreater{}, \textquotesingle{}enable\_2fa\textquotesingle{}: \textless{}django.forms.fields.BooleanField object\textgreater{}, \textquotesingle{}password1\textquotesingle{}: \textless{}django.forms.fields.CharField object\textgreater{}, \textquotesingle{}password2\textquotesingle{}: \textless{}django.forms.fields.CharField object\textgreater{}\}}}}
\pysigstopsignatures
\end{fulllineitems}

\index{media (mainApp.forms.UserForm property)@\spxentry{media}\spxextra{mainApp.forms.UserForm property}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.forms.UserForm.media}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{property\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{media}}}
\pysigstopsignatures
\sphinxAtStartPar
Return all media required to render the widgets on this form.

\end{fulllineitems}

\index{save() (mainApp.forms.UserForm metoda)@\spxentry{save()}\spxextra{mainApp.forms.UserForm metoda}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.forms.UserForm.save}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{save}}}{\sphinxparam{\DUrole{n}{commit}\DUrole{o}{=}\DUrole{default_value}{True}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Zapisuje użytkownika oraz, jeśli włączono uwierzytelnianie dwuetapowe,
tworzy i zapisuje urządzenie TOTP dla tego użytkownika.

\sphinxAtStartPar
Args:
commit (bool): Określa, czy operacja zapisu ma zostać wykonana natychmiastowo (domyślnie True).

\sphinxAtStartPar
Returns:
User: Obiekt użytkownika, który został zapisany.

\end{fulllineitems}


\end{fulllineitems}


\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{django} \PYG{k+kn}{import} \PYG{n}{forms}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{contrib}\PYG{n+nn}{.}\PYG{n+nn}{auth}\PYG{n+nn}{.}\PYG{n+nn}{forms} \PYG{k+kn}{import} \PYG{n}{UserCreationForm}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{contrib}\PYG{n+nn}{.}\PYG{n+nn}{auth}\PYG{n+nn}{.}\PYG{n+nn}{models} \PYG{k+kn}{import} \PYG{n}{User}
\PYG{k+kn}{from} \PYG{n+nn}{django\PYGZus{}otp}\PYG{n+nn}{.}\PYG{n+nn}{plugins}\PYG{n+nn}{.}\PYG{n+nn}{otp\PYGZus{}totp}\PYG{n+nn}{.}\PYG{n+nn}{models} \PYG{k+kn}{import} \PYG{n}{TOTPDevice}
\PYG{k+kn}{from} \PYG{n+nn}{.}\PYG{n+nn}{models} \PYG{k+kn}{import} \PYG{n}{UserProfile}

\PYG{k}{class} \PYG{n+nc}{UserForm}\PYG{p}{(}\PYG{n}{UserCreationForm}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Formularz rejestracji użytkownika z możliwością włączenia uwierzytelniania dwuetapowego.}

\PYG{l+s+sd}{    Dziedziczy po klasie UserCreationForm i dodaje pole `email` oraz `enable\PYGZus{}2fa` do standardowego formularza rejestracji.}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{n}{email} \PYG{o}{=} \PYG{n}{forms}\PYG{o}{.}\PYG{n}{EmailField}\PYG{p}{(}\PYG{n}{required}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}
    \PYG{n}{enable\PYGZus{}2fa} \PYG{o}{=} \PYG{n}{forms}\PYG{o}{.}\PYG{n}{BooleanField}\PYG{p}{(}
        \PYG{n}{required}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{,}
        \PYG{n}{widget}\PYG{o}{=}\PYG{n}{forms}\PYG{o}{.}\PYG{n}{CheckboxInput}\PYG{p}{(}\PYG{n}{attrs}\PYG{o}{=}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{class}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{form\PYGZhy{}check\PYGZhy{}input}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{,}
        \PYG{n}{label}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Enable Two\PYGZhy{}Factor Authentication}\PYG{l+s+s1}{\PYGZsq{}}
    \PYG{p}{)}

    \PYG{k}{class} \PYG{n+nc}{Meta}\PYG{p}{:}
        \PYG{n}{model} \PYG{o}{=} \PYG{n}{User}
        \PYG{n}{fields} \PYG{o}{=} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{username}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{email}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{password1}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{password2}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{save}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{commit}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{        }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{        Zapisuje użytkownika oraz, jeśli włączono uwierzytelnianie dwuetapowe,}
\PYG{l+s+sd}{        tworzy i zapisuje urządzenie TOTP dla tego użytkownika.}
\PYG{l+s+sd}{        }
\PYG{l+s+sd}{        Args:}
\PYG{l+s+sd}{        commit (bool): Określa, czy operacja zapisu ma zostać wykonana natychmiastowo (domyślnie True).}
\PYG{l+s+sd}{        }
\PYG{l+s+sd}{        Returns:}
\PYG{l+s+sd}{        User: Obiekt użytkownika, który został zapisany.}
\PYG{l+s+sd}{        \PYGZdq{}\PYGZdq{}\PYGZdq{}}
        \PYG{n}{user} \PYG{o}{=} \PYG{n+nb}{super}\PYG{p}{(}\PYG{n}{UserForm}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{n}{commit}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{)}
        \PYG{n}{user}\PYG{o}{.}\PYG{n}{email} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{cleaned\PYGZus{}data}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{email}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
        \PYG{k}{if} \PYG{n}{commit}\PYG{p}{:}
            \PYG{n}{user}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}

        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{cleaned\PYGZus{}data}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{enable\PYGZus{}2fa}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{:}
            \PYG{n}{totp\PYGZus{}device} \PYG{o}{=} \PYG{n}{TOTPDevice}\PYG{o}{.}\PYG{n}{objects}\PYG{o}{.}\PYG{n}{create}\PYG{p}{(}\PYG{n}{user}\PYG{o}{=}\PYG{n}{user}\PYG{p}{,} \PYG{n}{confirmed}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{)}
            \PYG{n}{totp\PYGZus{}device}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{profile} \PYG{o}{=} \PYG{n}{UserProfile}\PYG{o}{.}\PYG{n}{objects}\PYG{o}{.}\PYG{n}{get\PYGZus{}or\PYGZus{}create}\PYG{p}{(}\PYG{n}{user}\PYG{o}{=}\PYG{n}{user}\PYG{p}{)}
            \PYG{n}{profile}\PYG{o}{.}\PYG{n}{totp\PYGZus{}device} \PYG{o}{=} \PYG{n}{totp\PYGZus{}device}
            \PYG{n}{profile}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}

        \PYG{k}{return} \PYG{n}{user}
\end{sphinxVerbatim}


\subsection{mainApp.models module}
\label{\detokenize{mainApp:module-mainApp.models}}\label{\detokenize{mainApp:mainapp-models-module}}\index{module@\spxentry{module}!mainApp.models@\spxentry{mainApp.models}}\index{mainApp.models@\spxentry{mainApp.models}!module@\spxentry{module}}\index{Comment (klasa w module mainApp.models)@\spxentry{Comment}\spxextra{klasa w module mainApp.models}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.Comment}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{mainApp.models.}}\sphinxbfcode{\sphinxupquote{Comment}}}{\sphinxparam{\DUrole{o}{*}\DUrole{n}{args}}\sphinxparamcomma \sphinxparam{\DUrole{o}{**}\DUrole{n}{kwargs}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{Model}}

\sphinxAtStartPar
Model reprezentujący komentarze.

\sphinxAtStartPar
Atrybuty:
\sphinxhyphen{} title (str): Tytuł komentarza.
\sphinxhyphen{} comment (str): Treść komentarza.
\sphinxhyphen{} date\_time (datetime): Data i czas utworzenia komentarza (domyślnie aktualna data i czas).
\index{Comment.DoesNotExist@\spxentry{Comment.DoesNotExist}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.Comment.DoesNotExist}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{exception\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{DoesNotExist}}}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{ObjectDoesNotExist}}

\end{fulllineitems}

\index{Comment.MultipleObjectsReturned@\spxentry{Comment.MultipleObjectsReturned}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.Comment.MultipleObjectsReturned}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{exception\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{MultipleObjectsReturned}}}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{MultipleObjectsReturned}}

\end{fulllineitems}

\index{comment (mainApp.models.Comment atrybut)@\spxentry{comment}\spxextra{mainApp.models.Comment atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.Comment.comment}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{comment}}}
\pysigstopsignatures
\sphinxAtStartPar
A wrapper for a deferred\sphinxhyphen{}loading field. When the value is read from this
object the first time, the query is executed.

\end{fulllineitems}

\index{date\_time (mainApp.models.Comment atrybut)@\spxentry{date\_time}\spxextra{mainApp.models.Comment atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.Comment.date_time}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{date\_time}}}
\pysigstopsignatures
\sphinxAtStartPar
A wrapper for a deferred\sphinxhyphen{}loading field. When the value is read from this
object the first time, the query is executed.

\end{fulllineitems}

\index{get\_next\_by\_date\_time() (mainApp.models.Comment metoda)@\spxentry{get\_next\_by\_date\_time()}\spxextra{mainApp.models.Comment metoda}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.Comment.get_next_by_date_time}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_next\_by\_date\_time}}}{\sphinxparam{\DUrole{n}{*}}\sphinxparamcomma \sphinxparam{\DUrole{n}{field=\textless{}django.db.models.fields.DateTimeField: date\_time\textgreater{}}}\sphinxparamcomma \sphinxparam{\DUrole{n}{is\_next=True}}\sphinxparamcomma \sphinxparam{\DUrole{n}{**kwargs}}}{}
\pysigstopsignatures
\end{fulllineitems}

\index{get\_previous\_by\_date\_time() (mainApp.models.Comment metoda)@\spxentry{get\_previous\_by\_date\_time()}\spxextra{mainApp.models.Comment metoda}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.Comment.get_previous_by_date_time}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{get\_previous\_by\_date\_time}}}{\sphinxparam{\DUrole{n}{*}}\sphinxparamcomma \sphinxparam{\DUrole{n}{field=\textless{}django.db.models.fields.DateTimeField: date\_time\textgreater{}}}\sphinxparamcomma \sphinxparam{\DUrole{n}{is\_next=False}}\sphinxparamcomma \sphinxparam{\DUrole{n}{**kwargs}}}{}
\pysigstopsignatures
\end{fulllineitems}

\index{id (mainApp.models.Comment atrybut)@\spxentry{id}\spxextra{mainApp.models.Comment atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.Comment.id}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{id}}}
\pysigstopsignatures
\sphinxAtStartPar
A wrapper for a deferred\sphinxhyphen{}loading field. When the value is read from this
object the first time, the query is executed.

\end{fulllineitems}

\index{objects (mainApp.models.Comment atrybut)@\spxentry{objects}\spxextra{mainApp.models.Comment atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.Comment.objects}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{objects}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }\textless{}django.db.models.manager.Manager object\textgreater{}}}}
\pysigstopsignatures
\end{fulllineitems}

\index{title (mainApp.models.Comment atrybut)@\spxentry{title}\spxextra{mainApp.models.Comment atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.Comment.title}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{title}}}
\pysigstopsignatures
\sphinxAtStartPar
A wrapper for a deferred\sphinxhyphen{}loading field. When the value is read from this
object the first time, the query is executed.

\end{fulllineitems}


\end{fulllineitems}

\index{UserProfile (klasa w module mainApp.models)@\spxentry{UserProfile}\spxextra{klasa w module mainApp.models}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.UserProfile}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{mainApp.models.}}\sphinxbfcode{\sphinxupquote{UserProfile}}}{\sphinxparam{\DUrole{o}{*}\DUrole{n}{args}}\sphinxparamcomma \sphinxparam{\DUrole{o}{**}\DUrole{n}{kwargs}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{Model}}

\sphinxAtStartPar
Model reprezentujący profil użytkownika.

\sphinxAtStartPar
Atrybuty:
\sphinxhyphen{} user (User): Odwołanie do modelu użytkownika (User).
\sphinxhyphen{} totp\_device (TOTPDevice): Odwołanie do modelu TOTPDevice (uwierzytelnianie dwuetapowe).
\sphinxhyphen{} enable\_2fa (bool): Flaga określająca, czy użytkownik włączył uwierzytelnianie dwuetapowe.
\index{UserProfile.DoesNotExist@\spxentry{UserProfile.DoesNotExist}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.UserProfile.DoesNotExist}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{exception\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{DoesNotExist}}}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{ObjectDoesNotExist}}

\end{fulllineitems}

\index{UserProfile.MultipleObjectsReturned@\spxentry{UserProfile.MultipleObjectsReturned}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.UserProfile.MultipleObjectsReturned}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{exception\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{MultipleObjectsReturned}}}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{MultipleObjectsReturned}}

\end{fulllineitems}

\index{enable\_2fa (mainApp.models.UserProfile atrybut)@\spxentry{enable\_2fa}\spxextra{mainApp.models.UserProfile atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.UserProfile.enable_2fa}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{enable\_2fa}}}
\pysigstopsignatures
\sphinxAtStartPar
A wrapper for a deferred\sphinxhyphen{}loading field. When the value is read from this
object the first time, the query is executed.

\end{fulllineitems}

\index{id (mainApp.models.UserProfile atrybut)@\spxentry{id}\spxextra{mainApp.models.UserProfile atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.UserProfile.id}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{id}}}
\pysigstopsignatures
\sphinxAtStartPar
A wrapper for a deferred\sphinxhyphen{}loading field. When the value is read from this
object the first time, the query is executed.

\end{fulllineitems}

\index{objects (mainApp.models.UserProfile atrybut)@\spxentry{objects}\spxextra{mainApp.models.UserProfile atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.UserProfile.objects}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{objects}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }\textless{}django.db.models.manager.Manager object\textgreater{}}}}
\pysigstopsignatures
\end{fulllineitems}

\index{totp\_device (mainApp.models.UserProfile atrybut)@\spxentry{totp\_device}\spxextra{mainApp.models.UserProfile atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.UserProfile.totp_device}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{totp\_device}}}
\pysigstopsignatures
\sphinxAtStartPar
Accessor to the related object on the forward side of a one\sphinxhyphen{}to\sphinxhyphen{}one relation.

\sphinxAtStartPar
In the example:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Restaurant}\PYG{p}{(}\PYG{n}{Model}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{place} \PYG{o}{=} \PYG{n}{OneToOneField}\PYG{p}{(}\PYG{n}{Place}\PYG{p}{,} \PYG{n}{related\PYGZus{}name}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{restaurant}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{Restaurant.place}} is a \sphinxcode{\sphinxupquote{ForwardOneToOneDescriptor}} instance.

\end{fulllineitems}

\index{totp\_device\_id (mainApp.models.UserProfile atrybut)@\spxentry{totp\_device\_id}\spxextra{mainApp.models.UserProfile atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.UserProfile.totp_device_id}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{totp\_device\_id}}}
\pysigstopsignatures
\end{fulllineitems}

\index{user (mainApp.models.UserProfile atrybut)@\spxentry{user}\spxextra{mainApp.models.UserProfile atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.UserProfile.user}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{user}}}
\pysigstopsignatures
\sphinxAtStartPar
Accessor to the related object on the forward side of a one\sphinxhyphen{}to\sphinxhyphen{}one relation.

\sphinxAtStartPar
In the example:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{class} \PYG{n+nc}{Restaurant}\PYG{p}{(}\PYG{n}{Model}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{place} \PYG{o}{=} \PYG{n}{OneToOneField}\PYG{p}{(}\PYG{n}{Place}\PYG{p}{,} \PYG{n}{related\PYGZus{}name}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{restaurant}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
\sphinxcode{\sphinxupquote{Restaurant.place}} is a \sphinxcode{\sphinxupquote{ForwardOneToOneDescriptor}} instance.

\end{fulllineitems}

\index{user\_id (mainApp.models.UserProfile atrybut)@\spxentry{user\_id}\spxextra{mainApp.models.UserProfile atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.models.UserProfile.user_id}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{user\_id}}}
\pysigstopsignatures
\end{fulllineitems}


\end{fulllineitems}


\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{db} \PYG{k+kn}{import} \PYG{n}{models}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{utils}\PYG{n+nn}{.}\PYG{n+nn}{timezone} \PYG{k+kn}{import} \PYG{n}{now}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{contrib}\PYG{n+nn}{.}\PYG{n+nn}{auth}\PYG{n+nn}{.}\PYG{n+nn}{models} \PYG{k+kn}{import} \PYG{n}{User}
\PYG{k+kn}{from} \PYG{n+nn}{django\PYGZus{}otp}\PYG{n+nn}{.}\PYG{n+nn}{plugins}\PYG{n+nn}{.}\PYG{n+nn}{otp\PYGZus{}totp}\PYG{n+nn}{.}\PYG{n+nn}{models} \PYG{k+kn}{import} \PYG{n}{TOTPDevice}

\PYG{k}{class} \PYG{n+nc}{Comment}\PYG{p}{(}\PYG{n}{models}\PYG{o}{.}\PYG{n}{Model}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Model reprezentujący komentarze.}

\PYG{l+s+sd}{    Atrybuty:}
\PYG{l+s+sd}{    \PYGZhy{} title (str): Tytuł komentarza.}
\PYG{l+s+sd}{    \PYGZhy{} comment (str): Treść komentarza.}
\PYG{l+s+sd}{    \PYGZhy{} date\PYGZus{}time (datetime): Data i czas utworzenia komentarza (domyślnie aktualna data i czas).}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{n}{title} \PYG{o}{=} \PYG{n}{models}\PYG{o}{.}\PYG{n}{CharField}\PYG{p}{(}\PYG{n}{max\PYGZus{}length}\PYG{o}{=}\PYG{l+m+mi}{128}\PYG{p}{)}
    \PYG{n}{comment} \PYG{o}{=} \PYG{n}{models}\PYG{o}{.}\PYG{n}{TextField}\PYG{p}{(}\PYG{p}{)}
    \PYG{n}{date\PYGZus{}time} \PYG{o}{=} \PYG{n}{models}\PYG{o}{.}\PYG{n}{DateTimeField}\PYG{p}{(}\PYG{n}{default}\PYG{o}{=}\PYG{n}{now}\PYG{p}{)}


\PYG{k}{class} \PYG{n+nc}{UserProfile}\PYG{p}{(}\PYG{n}{models}\PYG{o}{.}\PYG{n}{Model}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Model reprezentujący profil użytkownika.}

\PYG{l+s+sd}{    Atrybuty:}
\PYG{l+s+sd}{    \PYGZhy{} user (User): Odwołanie do modelu użytkownika (User).}
\PYG{l+s+sd}{    \PYGZhy{} totp\PYGZus{}device (TOTPDevice): Odwołanie do modelu TOTPDevice (uwierzytelnianie dwuetapowe).}
\PYG{l+s+sd}{    \PYGZhy{} enable\PYGZus{}2fa (bool): Flaga określająca, czy użytkownik włączył uwierzytelnianie dwuetapowe.}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{n}{user} \PYG{o}{=} \PYG{n}{models}\PYG{o}{.}\PYG{n}{OneToOneField}\PYG{p}{(}\PYG{n}{User}\PYG{p}{,} \PYG{n}{on\PYGZus{}delete}\PYG{o}{=}\PYG{n}{models}\PYG{o}{.}\PYG{n}{CASCADE}\PYG{p}{)}
    \PYG{n}{totp\PYGZus{}device} \PYG{o}{=} \PYG{n}{models}\PYG{o}{.}\PYG{n}{OneToOneField}\PYG{p}{(}\PYG{n}{TOTPDevice}\PYG{p}{,} \PYG{n}{null}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{,} \PYG{n}{blank}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{,} \PYG{n}{on\PYGZus{}delete}\PYG{o}{=}\PYG{n}{models}\PYG{o}{.}\PYG{n}{CASCADE}\PYG{p}{)}
    \PYG{n}{enable\PYGZus{}2fa} \PYG{o}{=} \PYG{n}{models}\PYG{o}{.}\PYG{n}{BooleanField}\PYG{p}{(}\PYG{n}{default}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{)}
    
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}str\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{        }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{        Zwraca czytelny opis profilu użytkownika.}
\PYG{l+s+sd}{        \PYGZdq{}\PYGZdq{}\PYGZdq{}}
        \PYG{k}{return} \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{UserProfile for }\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{user}\PYG{o}{.}\PYG{n}{username}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}


\subsection{mainApp.serializers module}
\label{\detokenize{mainApp:module-mainApp.serializers}}\label{\detokenize{mainApp:mainapp-serializers-module}}\index{module@\spxentry{module}!mainApp.serializers@\spxentry{mainApp.serializers}}\index{mainApp.serializers@\spxentry{mainApp.serializers}!module@\spxentry{module}}\index{CommentSerializer (klasa w module mainApp.serializers)@\spxentry{CommentSerializer}\spxextra{klasa w module mainApp.serializers}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.serializers.CommentSerializer}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxcode{\sphinxupquote{mainApp.serializers.}}\sphinxbfcode{\sphinxupquote{CommentSerializer}}}{\sphinxparam{\DUrole{o}{*}\DUrole{n}{args}}\sphinxparamcomma \sphinxparam{\DUrole{o}{**}\DUrole{n}{kwargs}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{ModelSerializer}}

\sphinxAtStartPar
Serializer dla modelu Comment.

\sphinxAtStartPar
Mapuje pola modelu Comment na format JSON i obsługuje walidację danych wejściowych.

\sphinxAtStartPar
Fields:
\sphinxhyphen{} title (str): Tytuł komentarza.
\sphinxhyphen{} date\_time (datetime): Data i czas utworzenia komentarza.
\sphinxhyphen{} comment (str): Treść komentarza.
\index{CommentSerializer.Meta (klasa w module mainApp.serializers)@\spxentry{CommentSerializer.Meta}\spxextra{klasa w module mainApp.serializers}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.serializers.CommentSerializer.Meta}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{class\DUrole{w}{ }}}\sphinxbfcode{\sphinxupquote{Meta}}}
\pysigstopsignatures
\sphinxAtStartPar
Klasy bazowe: \sphinxcode{\sphinxupquote{object}}
\index{fields (mainApp.serializers.CommentSerializer.Meta atrybut)@\spxentry{fields}\spxextra{mainApp.serializers.CommentSerializer.Meta atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.serializers.CommentSerializer.Meta.fields}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{fields}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }{[}\textquotesingle{}title\textquotesingle{}, \textquotesingle{}date\_time\textquotesingle{}, \textquotesingle{}comment\textquotesingle{}{]}}}}
\pysigstopsignatures
\end{fulllineitems}

\index{model (mainApp.serializers.CommentSerializer.Meta atrybut)@\spxentry{model}\spxextra{mainApp.serializers.CommentSerializer.Meta atrybut}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.serializers.CommentSerializer.Meta.model}}
\pysigstartsignatures
\pysigline{\sphinxbfcode{\sphinxupquote{model}}}
\pysigstopsignatures
\sphinxAtStartPar
alias of {\hyperref[\detokenize{mainApp:mainApp.models.Comment}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{Comment}}}}}

\end{fulllineitems}


\end{fulllineitems}


\end{fulllineitems}


\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{rest\PYGZus{}framework}\PYG{n+nn}{.}\PYG{n+nn}{serializers} \PYG{k+kn}{import} \PYG{n}{ModelSerializer}
\PYG{k+kn}{from} \PYG{n+nn}{.}\PYG{n+nn}{models} \PYG{k+kn}{import} \PYG{n}{Comment}

\PYG{k}{class} \PYG{n+nc}{CommentSerializer}\PYG{p}{(}\PYG{n}{ModelSerializer}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Serializer dla modelu Comment.}

\PYG{l+s+sd}{    Mapuje pola modelu Comment na format JSON i obsługuje walidację danych wejściowych.}

\PYG{l+s+sd}{    Fields:}
\PYG{l+s+sd}{    \PYGZhy{} title (str): Tytuł komentarza.}
\PYG{l+s+sd}{    \PYGZhy{} date\PYGZus{}time (datetime): Data i czas utworzenia komentarza.}
\PYG{l+s+sd}{    \PYGZhy{} comment (str): Treść komentarza.}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{class} \PYG{n+nc}{Meta}\PYG{p}{:}
        \PYG{n}{model} \PYG{o}{=} \PYG{n}{Comment}
        \PYG{n}{fields} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{title}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{date\PYGZus{}time}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{comment}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\end{sphinxVerbatim}


\subsection{mainApp.tests module}
\label{\detokenize{mainApp:module-mainApp.tests}}\label{\detokenize{mainApp:mainapp-tests-module}}\index{module@\spxentry{module}!mainApp.tests@\spxentry{mainApp.tests}}\index{mainApp.tests@\spxentry{mainApp.tests}!module@\spxentry{module}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{test} \PYG{k+kn}{import} \PYG{n}{TestCase}
\end{sphinxVerbatim}


\subsection{mainApp.urls module}
\label{\detokenize{mainApp:module-mainApp.urls}}\label{\detokenize{mainApp:mainapp-urls-module}}\index{module@\spxentry{module}!mainApp.urls@\spxentry{mainApp.urls}}\index{mainApp.urls@\spxentry{mainApp.urls}!module@\spxentry{module}}\index{urlpatterns (w module mainApp.urls)@\spxentry{urlpatterns}\spxextra{w module mainApp.urls}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.urls.urlpatterns}}
\pysigstartsignatures
\pysigline{\sphinxcode{\sphinxupquote{mainApp.urls.}}\sphinxbfcode{\sphinxupquote{urlpatterns}}\sphinxbfcode{\sphinxupquote{\DUrole{w}{ }\DUrole{p}{=}\DUrole{w}{ }{[}\textless{}URLPattern \textquotesingle{}register/\textquotesingle{} {[}name=\textquotesingle{}register\textquotesingle{}{]}\textgreater{}, \textless{}URLPattern \textquotesingle{}login/\textquotesingle{} {[}name=\textquotesingle{}login\textquotesingle{}{]}\textgreater{}, \textless{}URLPattern \textquotesingle{}logout/\textquotesingle{} {[}name=\textquotesingle{}logout\textquotesingle{}{]}\textgreater{}, \textless{}URLPattern \textquotesingle{}islogin/\textquotesingle{}\textgreater{}, \textless{}URLPattern \textquotesingle{}comments/\textquotesingle{}\textgreater{}, \textless{}URLPattern \textquotesingle{}comments/gen/\textquotesingle{}\textgreater{}, \textless{}URLPattern \textquotesingle{}js/\textquotesingle{}\textgreater{}, \textless{}URLPattern \textquotesingle{}sqlgen/\textquotesingle{}\textgreater{}, \textless{}URLPattern \textquotesingle{}sqldemo/\textquotesingle{}\textgreater{}, \textless{}URLPattern \textquotesingle{}subscribe/\textquotesingle{}\textgreater{}{]}}}}
\pysigstopsignatures
\sphinxAtStartPar
Moduł zawierający punkty końcowe (endpoints) dla aplikacji.

\sphinxAtStartPar
Endpoints:
\sphinxhyphen{} /register/ : Endpoint do rejestracji użytkownika.
\sphinxhyphen{} /login/ : Endpoint do logowania użytkownika.
\sphinxhyphen{} /logout/ : Endpoint do wylogowania użytkownika.
\sphinxhyphen{} /islogin/ : Endpoint do sprawdzenia stanu zalogowania.
\sphinxhyphen{} /comments/ : Endpoint do wyświetlania komentarzy.
\sphinxhyphen{} /comments/gen/ : Endpoint do generowania komentarzy.
\sphinxhyphen{} /js/ : Endpoint do obsługi kompromitacji DOM (niebezpieczne).
\sphinxhyphen{} /sqlgen/ : Endpoint do tworzenia próbek SQL (niebezpieczne).
\sphinxhyphen{} /sqldemo/ : Endpoint do pobierania przykładowego SQL (niebezpieczne).
\sphinxhyphen{} /subscribe/ : Endpoint do renderowania maila subskrypcyjnego.

\end{fulllineitems}


\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{urls} \PYG{k+kn}{import} \PYG{n}{path}

\PYG{k+kn}{from} \PYG{n+nn}{.} \PYG{k+kn}{import} \PYG{n}{views}

\PYG{n}{urlpatterns} \PYG{o}{=} \PYG{p}{[}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{register/}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{views}\PYG{o}{.}\PYG{n}{register\PYGZus{}view}\PYG{p}{,} \PYG{n}{name}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{register}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{login/}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{views}\PYG{o}{.}\PYG{n}{login\PYGZus{}view}\PYG{p}{,} \PYG{n}{name}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{login}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{logout/}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{views}\PYG{o}{.}\PYG{n}{logout\PYGZus{}view}\PYG{p}{,} \PYG{n}{name}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{logout}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{islogin/}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{views}\PYG{o}{.}\PYG{n}{islogin}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{comments/}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{views}\PYG{o}{.}\PYG{n}{comments}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{comments/gen/}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{views}\PYG{o}{.}\PYG{n}{gen\PYGZus{}comments}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{js/}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{views}\PYG{o}{.}\PYG{n}{domcompromise}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{sqlgen/}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{views}\PYG{o}{.}\PYG{n}{create\PYGZus{}sample}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{sqldemo/}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{views}\PYG{o}{.}\PYG{n}{getsql}\PYG{p}{)}\PYG{p}{,}
    \PYG{n}{path}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{subscribe/}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{views}\PYG{o}{.}\PYG{n}{render\PYGZus{}mail}\PYG{p}{)}
\PYG{p}{]}

\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{Moduł zawierający punkty końcowe (endpoints) dla aplikacji.}

\PYG{l+s+sd}{Endpoints:}
\PYG{l+s+sd}{\PYGZhy{} /register/ : Endpoint do rejestracji użytkownika.}
\PYG{l+s+sd}{\PYGZhy{} /login/ : Endpoint do logowania użytkownika.}
\PYG{l+s+sd}{\PYGZhy{} /logout/ : Endpoint do wylogowania użytkownika.}
\PYG{l+s+sd}{\PYGZhy{} /islogin/ : Endpoint do sprawdzenia stanu zalogowania.}
\PYG{l+s+sd}{\PYGZhy{} /comments/ : Endpoint do wyświetlania komentarzy.}
\PYG{l+s+sd}{\PYGZhy{} /comments/gen/ : Endpoint do generowania komentarzy.}
\PYG{l+s+sd}{\PYGZhy{} /js/ : Endpoint do obsługi kompromitacji DOM (niebezpieczne).}
\PYG{l+s+sd}{\PYGZhy{} /sqlgen/ : Endpoint do tworzenia próbek SQL (niebezpieczne).}
\PYG{l+s+sd}{\PYGZhy{} /sqldemo/ : Endpoint do pobierania przykładowego SQL (niebezpieczne).}
\PYG{l+s+sd}{\PYGZhy{} /subscribe/ : Endpoint do renderowania maila subskrypcyjnego.}
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\end{sphinxVerbatim}


\subsection{mainApp.views module}
\label{\detokenize{mainApp:module-mainApp.views}}\label{\detokenize{mainApp:mainapp-views-module}}\index{module@\spxentry{module}!mainApp.views@\spxentry{mainApp.views}}\index{mainApp.views@\spxentry{mainApp.views}!module@\spxentry{module}}\index{domcompromise() (w module mainApp.views)@\spxentry{domcompromise()}\spxextra{w module mainApp.views}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.views.domcompromise}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{mainApp.views.}}\sphinxbfcode{\sphinxupquote{domcompromise}}}{\sphinxparam{\DUrole{n}{request}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Endpoint do demonstracji kompromitacji DOM.
\begin{quote}\begin{description}
\sphinxlineitem{Parametry}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{request}} \textendash{} HttpRequest object

\sphinxlineitem{Zwraca}
\sphinxAtStartPar
HttpResponse z kodem HTML

\end{description}\end{quote}

\end{fulllineitems}

\index{islogin() (w module mainApp.views)@\spxentry{islogin()}\spxextra{w module mainApp.views}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.views.islogin}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{mainApp.views.}}\sphinxbfcode{\sphinxupquote{islogin}}}{\sphinxparam{\DUrole{n}{request}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Sprawdza stan zalogowania użytkownika.
\begin{quote}\begin{description}
\sphinxlineitem{Parametry}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{request}} \textendash{} HttpRequest object

\sphinxlineitem{Zwraca}
\sphinxAtStartPar
JsonResponse z informacją o zalogowaniu

\end{description}\end{quote}

\end{fulllineitems}

\index{login\_view() (w module mainApp.views)@\spxentry{login\_view()}\spxextra{w module mainApp.views}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.views.login_view}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{mainApp.views.}}\sphinxbfcode{\sphinxupquote{login\_view}}}{\sphinxparam{\DUrole{n}{request}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Loguje użytkownika.
\begin{quote}\begin{description}
\sphinxlineitem{Parametry}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{request}} \textendash{} HttpRequest object

\sphinxlineitem{Zwraca}
\sphinxAtStartPar
JsonResponse z komunikatem o sukcesie/błędzie

\end{description}\end{quote}

\end{fulllineitems}

\index{logout\_view() (w module mainApp.views)@\spxentry{logout\_view()}\spxextra{w module mainApp.views}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.views.logout_view}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{mainApp.views.}}\sphinxbfcode{\sphinxupquote{logout\_view}}}{\sphinxparam{\DUrole{n}{request}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Wylogowuje użytkownika.
\begin{quote}\begin{description}
\sphinxlineitem{Parametry}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{request}} \textendash{} HttpRequest object

\sphinxlineitem{Zwraca}
\sphinxAtStartPar
JsonResponse z komunikatem o wylogowaniu

\end{description}\end{quote}

\end{fulllineitems}

\index{register\_view() (w module mainApp.views)@\spxentry{register\_view()}\spxextra{w module mainApp.views}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{mainApp:mainApp.views.register_view}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{mainApp.views.}}\sphinxbfcode{\sphinxupquote{register\_view}}}{\sphinxparam{\DUrole{n}{request}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Rejestruje nowego użytkownika.
\begin{quote}\begin{description}
\sphinxlineitem{Parametry}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{request}} \textendash{} HttpRequest object

\sphinxlineitem{Zwraca}
\sphinxAtStartPar
JsonResponse z komunikatem o sukcesie/błędzie

\end{description}\end{quote}

\end{fulllineitems}


\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{http} \PYG{k+kn}{import} \PYG{n}{JsonResponse}\PYG{p}{,} \PYG{n}{HttpResponse}\PYG{p}{,} \PYG{n}{HttpRequest}
\PYG{k+kn}{from} \PYG{n+nn}{django\PYGZus{}otp}\PYG{n+nn}{.}\PYG{n+nn}{plugins}\PYG{n+nn}{.}\PYG{n+nn}{otp\PYGZus{}totp}\PYG{n+nn}{.}\PYG{n+nn}{models} \PYG{k+kn}{import} \PYG{n}{TOTPDevice}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{views}\PYG{n+nn}{.}\PYG{n+nn}{decorators}\PYG{n+nn}{.}\PYG{n+nn}{csrf} \PYG{k+kn}{import} \PYG{n}{csrf\PYGZus{}exempt}\PYG{p}{,} \PYG{n}{ensure\PYGZus{}csrf\PYGZus{}cookie}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{contrib}\PYG{n+nn}{.}\PYG{n+nn}{auth} \PYG{k+kn}{import} \PYG{n}{login}\PYG{p}{,} \PYG{n}{authenticate}\PYG{p}{,} \PYG{n}{logout}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{views}\PYG{n+nn}{.}\PYG{n+nn}{decorators}\PYG{n+nn}{.}\PYG{n+nn}{http} \PYG{k+kn}{import} \PYG{n}{require\PYGZus{}http\PYGZus{}methods}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{utils}\PYG{n+nn}{.}\PYG{n+nn}{dateparse} \PYG{k+kn}{import} \PYG{n}{parse\PYGZus{}datetime}
\PYG{k+kn}{from} \PYG{n+nn}{.}\PYG{n+nn}{forms} \PYG{k+kn}{import} \PYG{n}{UserForm}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{template}\PYG{n+nn}{.}\PYG{n+nn}{loader} \PYG{k+kn}{import} \PYG{n}{get\PYGZus{}template}
\PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{mail} \PYG{k+kn}{import} \PYG{n}{EmailMultiAlternatives}
\PYG{k+kn}{from} \PYG{n+nn}{backend} \PYG{k+kn}{import} \PYG{n}{settings}
\PYG{k+kn}{from} \PYG{n+nn}{traceback} \PYG{k+kn}{import} \PYG{n}{format\PYGZus{}exc}
\PYG{k+kn}{from} \PYG{n+nn}{.}\PYG{n+nn}{serializers} \PYG{k+kn}{import} \PYG{n}{CommentSerializer}
\PYG{k+kn}{from} \PYG{n+nn}{.}\PYG{n+nn}{models} \PYG{k+kn}{import} \PYG{n}{Comment}\PYG{p}{,} \PYG{n}{UserProfile}
\PYG{k+kn}{from} \PYG{n+nn}{.}\PYG{n+nn}{decorators} \PYG{k+kn}{import} \PYG{n}{require\PYGZus{}login}
\PYG{k+kn}{import} \PYG{n+nn}{sqlite3}
\PYG{k+kn}{import} \PYG{n+nn}{qrcode}
\PYG{k+kn}{from} \PYG{n+nn}{io} \PYG{k+kn}{import} \PYG{n}{BytesIO}
\PYG{k+kn}{from} \PYG{n+nn}{base64} \PYG{k+kn}{import} \PYG{n}{b64encode}

\PYG{n+nd}{@require\PYGZus{}http\PYGZus{}methods}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{POST}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{k}{def} \PYG{n+nf}{register\PYGZus{}view}\PYG{p}{(}\PYG{n}{request}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Rejestruje nowego użytkownika.}

\PYG{l+s+sd}{    :param request: HttpRequest object}
\PYG{l+s+sd}{    :return: JsonResponse z komunikatem o sukcesie/błędzie}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{try}\PYG{p}{:}
        \PYG{n}{username} \PYG{o}{=} \PYG{n}{request}\PYG{o}{.}\PYG{n}{POST}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{username}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{email} \PYG{o}{=} \PYG{n}{request}\PYG{o}{.}\PYG{n}{POST}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{email}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{password1} \PYG{o}{=} \PYG{n}{request}\PYG{o}{.}\PYG{n}{POST}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{password1}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{password2} \PYG{o}{=} \PYG{n}{request}\PYG{o}{.}\PYG{n}{POST}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{password2}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{enable\PYGZus{}2fa} \PYG{o}{=} \PYG{n}{request}\PYG{o}{.}\PYG{n}{POST}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{enable\PYGZus{}2fa}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{true}\PYG{l+s+s1}{\PYGZsq{}}

        \PYG{n}{form} \PYG{o}{=} \PYG{n}{UserForm}\PYG{p}{(}\PYG{p}{\PYGZob{}}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{username}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{username}\PYG{p}{,}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{email}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{email}\PYG{p}{,}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{password1}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{password1}\PYG{p}{,}
            \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{password2}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{password2}
        \PYG{p}{\PYGZcb{}}\PYG{p}{)}

        \PYG{k}{if} \PYG{n}{form}\PYG{o}{.}\PYG{n}{is\PYGZus{}valid}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{user} \PYG{o}{=} \PYG{n}{form}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}

            \PYG{k}{if} \PYG{n}{enable\PYGZus{}2fa}\PYG{p}{:}
                \PYG{n}{profile}\PYG{p}{,} \PYG{n}{created} \PYG{o}{=} \PYG{n}{UserProfile}\PYG{o}{.}\PYG{n}{objects}\PYG{o}{.}\PYG{n}{get\PYGZus{}or\PYGZus{}create}\PYG{p}{(}\PYG{n}{user}\PYG{o}{=}\PYG{n}{user}\PYG{p}{)}

                \PYG{k}{if} \PYG{o+ow}{not} \PYG{n}{profile}\PYG{o}{.}\PYG{n}{totp\PYGZus{}device}\PYG{p}{:}
                    \PYG{n}{totp\PYGZus{}device} \PYG{o}{=} \PYG{n}{TOTPDevice}\PYG{o}{.}\PYG{n}{objects}\PYG{o}{.}\PYG{n}{create}\PYG{p}{(}\PYG{n}{user}\PYG{o}{=}\PYG{n}{user}\PYG{p}{,} \PYG{n}{confirmed}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{)}
                    \PYG{n}{totp\PYGZus{}device}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}
                    \PYG{n}{profile}\PYG{o}{.}\PYG{n}{totp\PYGZus{}device} \PYG{o}{=} \PYG{n}{totp\PYGZus{}device}
                    \PYG{n}{profile}\PYG{o}{.}\PYG{n}{enable\PYGZus{}2fa} \PYG{o}{=} \PYG{n}{enable\PYGZus{}2fa}
                    \PYG{n}{profile}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}
        
                    \PYG{n}{qr} \PYG{o}{=} \PYG{n}{qrcode}\PYG{o}{.}\PYG{n}{QRCode}\PYG{p}{(}
                        \PYG{n}{version}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{,}
                        \PYG{n}{error\PYGZus{}correction}\PYG{o}{=}\PYG{n}{qrcode}\PYG{o}{.}\PYG{n}{constants}\PYG{o}{.}\PYG{n}{ERROR\PYGZus{}CORRECT\PYGZus{}L}\PYG{p}{,}
                        \PYG{n}{box\PYGZus{}size}\PYG{o}{=}\PYG{l+m+mi}{10}\PYG{p}{,}
                        \PYG{n}{border}\PYG{o}{=}\PYG{l+m+mi}{0}
                    \PYG{p}{)}
                    \PYG{n}{qr}\PYG{o}{.}\PYG{n}{add\PYGZus{}data}\PYG{p}{(}\PYG{n}{totp\PYGZus{}device}\PYG{o}{.}\PYG{n}{config\PYGZus{}url}\PYG{p}{)}
                    \PYG{n}{qr}\PYG{o}{.}\PYG{n}{make}\PYG{p}{(}\PYG{n}{fit}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}
                    \PYG{n}{qr\PYGZus{}code\PYGZus{}img} \PYG{o}{=} \PYG{n}{qr}\PYG{o}{.}\PYG{n}{make\PYGZus{}image}\PYG{p}{(}\PYG{n}{fill\PYGZus{}color}\PYG{o}{=}\PYG{p}{(}\PYG{l+m+mi}{66}\PYG{p}{,} \PYG{l+m+mi}{184}\PYG{p}{,} \PYG{l+m+mi}{131}\PYG{p}{)}\PYG{p}{,} \PYG{n}{back\PYGZus{}color}\PYG{o}{=}\PYG{p}{(}\PYG{l+m+mi}{18}\PYG{p}{,}\PYG{l+m+mi}{18}\PYG{p}{,}\PYG{l+m+mi}{18}\PYG{p}{)}\PYG{p}{)}
                    \PYG{n}{buffer} \PYG{o}{=} \PYG{n}{BytesIO}\PYG{p}{(}\PYG{p}{)}
                    \PYG{n}{qr\PYGZus{}code\PYGZus{}img}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{n}{buffer}\PYG{p}{)}
                    \PYG{n}{buffer}\PYG{o}{.}\PYG{n}{seek}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{)}
                    \PYG{n}{encoded\PYGZus{}img} \PYG{o}{=} \PYG{n}{b64encode}\PYG{p}{(}\PYG{n}{buffer}\PYG{o}{.}\PYG{n}{read}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}\PYG{o}{.}\PYG{n}{decode}\PYG{p}{(}\PYG{p}{)}
                    \PYG{n}{qr\PYGZus{}code\PYGZus{}data} \PYG{o}{=} \PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{data:image/png;base64,}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{encoded\PYGZus{}img}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZsq{}}

                    \PYG{n}{response\PYGZus{}data} \PYG{o}{=} \PYG{p}{\PYGZob{}}
                    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{message}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{User registered successfully}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
                    \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{image\PYGZus{}data}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{qr\PYGZus{}code\PYGZus{}data}
                    \PYG{p}{\PYGZcb{}}
                \PYG{k}{else}\PYG{p}{:}
                    \PYG{n}{response\PYGZus{}data} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{message}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{User registered successfully (2FA was already enabled)}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{\PYGZcb{}}
            \PYG{k}{else}\PYG{p}{:}
                \PYG{n}{response\PYGZus{}data} \PYG{o}{=} \PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{message}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{User registered successfully (2FA is disabled)}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{\PYGZcb{}}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{error}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{form}\PYG{o}{.}\PYG{n}{errors}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{400}\PYG{p}{)}

        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{n}{response\PYGZus{}data}\PYG{p}{)}
    \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{e}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{error}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{e}\PYG{p}{)}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{500}\PYG{p}{)}

    
\PYG{n+nd}{@require\PYGZus{}http\PYGZus{}methods}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{POST}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{k}{def} \PYG{n+nf}{login\PYGZus{}view}\PYG{p}{(}\PYG{n}{request}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Loguje użytkownika.}

\PYG{l+s+sd}{    :param request: HttpRequest object}
\PYG{l+s+sd}{    :return: JsonResponse z komunikatem o sukcesie/błędzie}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{try}\PYG{p}{:}
        \PYG{n}{username} \PYG{o}{=} \PYG{n}{request}\PYG{o}{.}\PYG{n}{POST}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{username}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{password} \PYG{o}{=} \PYG{n}{request}\PYG{o}{.}\PYG{n}{POST}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{password}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{user} \PYG{o}{=} \PYG{n}{authenticate}\PYG{p}{(}\PYG{n}{request}\PYG{p}{,} \PYG{n}{username}\PYG{o}{=}\PYG{n}{username}\PYG{p}{,} \PYG{n}{password}\PYG{o}{=}\PYG{n}{password}\PYG{p}{)}

        \PYG{k}{if} \PYG{n}{user} \PYG{o+ow}{is} \PYG{o+ow}{not} \PYG{k+kc}{None}\PYG{p}{:}
            \PYG{n}{requires\PYGZus{}2fa} \PYG{o}{=} \PYG{k+kc}{False}

            \PYG{k}{try}\PYG{p}{:}
                \PYG{n}{user\PYGZus{}profile} \PYG{o}{=} \PYG{n}{UserProfile}\PYG{o}{.}\PYG{n}{objects}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{n}{user}\PYG{o}{=}\PYG{n}{user}\PYG{p}{)}
                \PYG{k}{if} \PYG{n}{user\PYGZus{}profile}\PYG{o}{.}\PYG{n}{enable\PYGZus{}2fa}\PYG{p}{:}
                    \PYG{n}{requires\PYGZus{}2fa} \PYG{o}{=} \PYG{k+kc}{True}
            \PYG{k}{except} \PYG{n}{UserProfile}\PYG{o}{.}\PYG{n}{DoesNotExist}\PYG{p}{:}
                \PYG{k}{pass}

            \PYG{k}{if} \PYG{n}{requires\PYGZus{}2fa}\PYG{p}{:}
                \PYG{n}{totp\PYGZus{}code} \PYG{o}{=} \PYG{n}{request}\PYG{o}{.}\PYG{n}{POST}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{totp\PYGZus{}code}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
                \PYG{k}{if} \PYG{n}{totp\PYGZus{}code}\PYG{p}{:}
                    \PYG{k}{try}\PYG{p}{:}
                        \PYG{n}{totp\PYGZus{}device} \PYG{o}{=} \PYG{n}{TOTPDevice}\PYG{o}{.}\PYG{n}{objects}\PYG{o}{.}\PYG{n}{get}\PYG{p}{(}\PYG{n}{user}\PYG{o}{=}\PYG{n}{user}\PYG{p}{)}
                        \PYG{k}{if} \PYG{n}{totp\PYGZus{}device}\PYG{o}{.}\PYG{n}{verify\PYGZus{}token}\PYG{p}{(}\PYG{n}{totp\PYGZus{}code}\PYG{p}{)}\PYG{p}{:}
                            \PYG{n}{login}\PYG{p}{(}\PYG{n}{request}\PYG{p}{,} \PYG{n}{user}\PYG{p}{)}
                            \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{message}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{User logged in successfully}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
                        \PYG{k}{else}\PYG{p}{:}
                            \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{error}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Invalid 2FA code}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{400}\PYG{p}{)}
                    \PYG{k}{except} \PYG{n}{TOTPDevice}\PYG{o}{.}\PYG{n}{DoesNotExist}\PYG{p}{:}
                        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{error}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{2FA device not found}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{400}\PYG{p}{)}
                \PYG{k}{else}\PYG{p}{:}
                    \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{requires\PYGZus{}2fa}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{k+kc}{True}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
            \PYG{k}{else}\PYG{p}{:}
                \PYG{n}{login}\PYG{p}{(}\PYG{n}{request}\PYG{p}{,} \PYG{n}{user}\PYG{p}{)}
                \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{message}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{User logged in successfully}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{error}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Invalid username or password}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{400}\PYG{p}{)}
    \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{e}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{error}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{e}\PYG{p}{)}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{500}\PYG{p}{)}
 
    
\PYG{n+nd}{@require\PYGZus{}http\PYGZus{}methods}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{POST}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{k}{def} \PYG{n+nf}{logout\PYGZus{}view}\PYG{p}{(}\PYG{n}{request}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Wylogowuje użytkownika.}

\PYG{l+s+sd}{    :param request: HttpRequest object}
\PYG{l+s+sd}{    :return: JsonResponse z komunikatem o wylogowaniu}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{n}{logout}\PYG{p}{(}\PYG{n}{request}\PYG{p}{)}
    \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{message}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{User logged out}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}


\PYG{n+nd}{@require\PYGZus{}http\PYGZus{}methods}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{GET}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nd}{@ensure\PYGZus{}csrf\PYGZus{}cookie}
\PYG{k}{def} \PYG{n+nf}{islogin}\PYG{p}{(}\PYG{n}{request}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Sprawdza stan zalogowania użytkownika.}

\PYG{l+s+sd}{    :param request: HttpRequest object}
\PYG{l+s+sd}{    :return: JsonResponse z informacją o zalogowaniu}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{authenticated}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{request}\PYG{o}{.}\PYG{n}{user}\PYG{o}{.}\PYG{n}{is\PYGZus{}authenticated}\PYG{p}{\PYGZcb{}}\PYG{p}{)}


\PYG{n+nd}{@require\PYGZus{}http\PYGZus{}methods}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{GET}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nd}{@require\PYGZus{}login}
\PYG{k}{def} \PYG{n+nf}{comments}\PYG{p}{(}\PYG{n}{request}\PYG{p}{:}\PYG{n}{HttpRequest}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Zwraca listę komentarzy.}

\PYG{l+s+sd}{    :param request: HttpRequest object}
\PYG{l+s+sd}{    :return: JsonResponse z listą komentarzy}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{comments}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{CommentSerializer}\PYG{p}{(}\PYG{n}{Comment}\PYG{o}{.}\PYG{n}{objects}\PYG{o}{.}\PYG{n}{all}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,} \PYG{n}{many}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}\PYG{o}{.}\PYG{n}{data}\PYG{p}{\PYGZcb{}}\PYG{p}{)}


\PYG{n+nd}{@require\PYGZus{}http\PYGZus{}methods}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{POST}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nd}{@csrf\PYGZus{}exempt}
\PYG{n+nd}{@require\PYGZus{}login}
\PYG{k}{def} \PYG{n+nf}{gen\PYGZus{}comments}\PYG{p}{(}\PYG{n}{request}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Generuje przykładowe komentarze.}

\PYG{l+s+sd}{    :param request: HttpRequest object}
\PYG{l+s+sd}{    :return: JsonResponse z komunikatem o wygenerowanych komentarzach}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{if} \PYG{n}{Comment}\PYG{o}{.}\PYG{n}{objects}\PYG{o}{.}\PYG{n}{count}\PYG{p}{(}\PYG{p}{)} \PYG{o}{\PYGZgt{}}\PYG{o}{=} \PYG{l+m+mi}{5}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{message}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Already created}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{n}{Comment}\PYG{p}{(}
        \PYG{n}{title} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Simple comment}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{comment} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{This is a great example of normal comment}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{date\PYGZus{}time} \PYG{o}{=} \PYG{n}{parse\PYGZus{}datetime}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{2023\PYGZhy{}06\PYGZhy{}12T18:22:00+02:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}
    \PYG{n}{Comment}\PYG{p}{(}
        \PYG{n}{title} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Unharmful comment}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{comment} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{This is a great example of unharmful \PYGZlt{}strong\PYGZgt{}comment\PYGZlt{}/strong\PYGZgt{} with injected HTML \PYGZam{}lt;strong\PYGZam{}gt; tag.}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{date\PYGZus{}time} \PYG{o}{=} \PYG{n}{parse\PYGZus{}datetime}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{2023\PYGZhy{}08\PYGZhy{}15T15:32:10+02:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}
    \PYG{n}{Comment}\PYG{p}{(}
        \PYG{n}{title} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Somewhat dangerous comment}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{comment} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{This is a great example of dangerous comment \PYGZlt{}iframe width=}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{560}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{ height=}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{315}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{ src=}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{https://www.youtube.com/embed/dQw4w9WgXcQ?si=O7ynaNQw9GcNtXud}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{ title=}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{YouTube video player}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{ frameborder=}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{0}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{ allow=}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{accelerometer; autoplay; clipboard\PYGZhy{}write; encrypted\PYGZhy{}media; gyroscope; picture\PYGZhy{}in\PYGZhy{}picture; web\PYGZhy{}share}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{ allowfullscreen\PYGZgt{}\PYGZlt{}/iframe\PYGZgt{} with injected HTML \PYGZam{}lt;iframe\PYGZam{}gt; tag.}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{date\PYGZus{}time} \PYG{o}{=} \PYG{n}{parse\PYGZus{}datetime}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{2023\PYGZhy{}09\PYGZhy{}08T22:40:31+02:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}
    \PYG{n}{Comment}\PYG{p}{(}
        \PYG{n}{title} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Pretty dangerous comment}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{comment} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{This is a great example of dangerous comment with \PYGZlt{}img src onerror=}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{alert(}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{injected \PYGZlt{}script\PYGZgt{} tag}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{/\PYGZgt{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{date\PYGZus{}time} \PYG{o}{=} \PYG{n}{parse\PYGZus{}datetime}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{2023\PYGZhy{}10\PYGZhy{}09T00:20:15+02:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}
    \PYG{n}{Comment}\PYG{p}{(}
        \PYG{n}{title} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Extremly dangerous comment}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{comment} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZlt{}img src onerror=}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{fetch(}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{http://localhost:8000/main/js/}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{).then(response =\PYGZgt{} response.text()).then( text =\PYGZgt{} document.write(text)).catch(error =\PYGZgt{} }\PYG{l+s+s1}{\PYGZob{}}\PYG{l+s+s1}{ \PYGZcb{})}\PYG{l+s+s1}{\PYGZdq{}}\PYG{l+s+s1}{\PYGZgt{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{date\PYGZus{}time} \PYG{o}{=} \PYG{n}{parse\PYGZus{}datetime}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{2023\PYGZhy{}10\PYGZhy{}12T21:37:00+02:00}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{p}{)}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}
    \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{message}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Comments generated successfully}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}


\PYG{n+nd}{@require\PYGZus{}http\PYGZus{}methods}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GET}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} No @require\PYGZus{}login \PYGZhy{}\PYGZgt{} We simulate hackers website where no login is required.}
\PYG{k}{def} \PYG{n+nf}{domcompromise}\PYG{p}{(}\PYG{n}{request}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Endpoint do demonstracji kompromitacji DOM.}

\PYG{l+s+sd}{    :param request: HttpRequest object}
\PYG{l+s+sd}{    :return: HttpResponse z kodem HTML}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{n}{page} \PYG{o}{=} \PYG{n}{get\PYGZus{}template}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{dom.html}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
    \PYG{k}{return} \PYG{n}{HttpResponse}\PYG{p}{(}\PYG{n}{page}\PYG{o}{.}\PYG{n}{render}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}


\PYG{n+nd}{@require\PYGZus{}http\PYGZus{}methods}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{POST}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nd}{@require\PYGZus{}login}
\PYG{k}{def} \PYG{n+nf}{create\PYGZus{}sample}\PYG{p}{(}\PYG{n}{request}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Tworzy przykładową bazę danych.}

\PYG{l+s+sd}{    :param request: HttpRequest object}
\PYG{l+s+sd}{    :return: JsonResponse z komunikatem o sukcesie/błędzie}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{try}\PYG{p}{:}
        \PYG{n}{file} \PYG{o}{=} \PYG{n+nb}{open}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{start.sql}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{r}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
        \PYG{n}{conn} \PYG{o}{=} \PYG{n}{sqlite3}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{sample.sqlite3}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{conn}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{executescript}\PYG{p}{(}\PYG{n}{file}\PYG{o}{.}\PYG{n}{read}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{conn}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{file}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{message}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Sample database created successfully}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{e}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{error}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{e}\PYG{p}{)}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{500}\PYG{p}{)}


\PYG{n+nd}{@require\PYGZus{}http\PYGZus{}methods}\PYG{p}{(}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{GET}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{n+nd}{@require\PYGZus{}login}
\PYG{k}{def} \PYG{n+nf}{getsql}\PYG{p}{(}\PYG{n}{request}\PYG{p}{:}\PYG{n}{HttpRequest}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Zwraca dane z bazy danych.}

\PYG{l+s+sd}{    :param request: HttpRequest object}
\PYG{l+s+sd}{    :return: JsonResponse z danymi z bazy}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{try}\PYG{p}{:}
        \PYG{n}{conn} \PYG{o}{=} \PYG{n}{sqlite3}\PYG{o}{.}\PYG{n}{connect}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{sample.sqlite3}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{conn}\PYG{o}{.}\PYG{n}{row\PYGZus{}factory} \PYG{o}{=} \PYG{n}{sqlite3}\PYG{o}{.}\PYG{n}{Row}
        \PYG{n}{cursor} \PYG{o}{=} \PYG{n}{conn}\PYG{o}{.}\PYG{n}{cursor}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{result} \PYG{o}{=} \PYG{k+kc}{None}
        \PYG{n}{name} \PYG{o}{=} \PYG{n}{request}\PYG{o}{.}\PYG{n}{GET}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{name}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} \PYG{k}{if} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{name}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o+ow}{in} \PYG{n}{request}\PYG{o}{.}\PYG{n}{GET} \PYG{k}{else} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZsq{}}
        \PYG{k}{if} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{safe}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o+ow}{in} \PYG{n}{request}\PYG{o}{.}\PYG{n}{GET} \PYG{o+ow}{and} \PYG{n}{request}\PYG{o}{.}\PYG{n}{GET}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{safe}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{true}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{result} \PYG{o}{=} \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+s2}{            SELECT }
\PYG{l+s+s2}{                name, }
\PYG{l+s+s2}{                price, }
\PYG{l+s+s2}{                thumbnail }
\PYG{l+s+s2}{            FROM }
\PYG{l+s+s2}{                products }
\PYG{l+s+s2}{            WHERE }
\PYG{l+s+s2}{                name LIKE ?}
\PYG{l+s+s2}{            }\PYG{l+s+s2}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}\PYG{p}{,}
                \PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZpc{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s1}{\PYGZpc{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}\PYG{p}{)}
            \PYG{p}{)}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{n}{result} \PYG{o}{=} \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{execute}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SELECT name, price, thumbnail FROM products WHERE name LIKE }\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{\PYGZpc{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZpc{}}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
        \PYG{c+c1}{\PYGZsh{} IMPORTANT \PYGZsh{}}
        \PYG{c+c1}{\PYGZsh{} WE ASSUME DEV IS LAZY AND WANTED TO GET EVERY COLUMN FROM QUERY AND RETURN IT TO USER \PYGZsh{}}
        \PYG{n}{products} \PYG{o}{=} \PYG{p}{[}\PYG{p}{\PYGZob{}}\PYG{n}{item}\PYG{p}{:} \PYG{n}{row}\PYG{p}{[}\PYG{n}{item}\PYG{p}{]} \PYG{k}{for} \PYG{n}{item} \PYG{o+ow}{in} \PYG{n}{row}\PYG{o}{.}\PYG{n}{keys}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZcb{}} \PYG{k}{for} \PYG{n}{row} \PYG{o+ow}{in} \PYG{n}{result}\PYG{p}{]}
        \PYG{n}{cursor}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
        \PYG{n}{conn}\PYG{o}{.}\PYG{n}{close}\PYG{p}{(}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{products}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{products}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{query}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SELECT name, price, thumbnail FROM products WHERE name LIKE }\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{\PYGZpc{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZpc{}}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{e}\PYG{p}{:}
        \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{e}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{error}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{e}\PYG{p}{)}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{stack}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{format\PYGZus{}exc}\PYG{p}{(}\PYG{p}{)}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{500}\PYG{p}{)}


\PYG{c+c1}{\PYGZsh{} @require\PYGZus{}http\PYGZus{}methods([\PYGZsq{}POST\PYGZsq{}]) \PYGZsh{} LAZY DEV DIDN\PYGZsq{}T ADD REQUIRED METHOD}
\PYG{n+nd}{@require\PYGZus{}login} \PYG{c+c1}{\PYGZsh{} CSRF attack will be successfull \PYGZhy{} web browser sends cookies by default.}
\PYG{k}{def} \PYG{n+nf}{render\PYGZus{}mail}\PYG{p}{(}\PYG{n}{request}\PYG{p}{:}\PYG{n}{HttpRequest}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Renderuje i wysyła maila subskrypcyjnego.}

\PYG{l+s+sd}{    :param request: HttpRequest object}
\PYG{l+s+sd}{    :return: JsonResponse z komunikatem o wysłaniu maila}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{k}{if} \PYG{o+ow}{not} \PYG{n}{request}\PYG{o}{.}\PYG{n}{user}\PYG{o}{.}\PYG{n}{is\PYGZus{}authenticated}\PYG{p}{:}
        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{error}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Unauthorized. Please log in first!}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{401}\PYG{p}{)}
    \PYG{k}{try}\PYG{p}{:}
        \PYG{n}{html} \PYG{o}{=} \PYG{n}{get\PYGZus{}template}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{email.html}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{txt} \PYG{o}{=} \PYG{n}{get\PYGZus{}template}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{email.txt}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{subject}\PYG{p}{,} \PYG{n}{\PYGZus{}from}\PYG{p}{,} \PYG{n}{to} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Important information}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{settings}\PYG{o}{.}\PYG{n}{EMAIL\PYGZus{}HOST\PYGZus{}USER}\PYG{p}{,} \PYG{n}{request}\PYG{o}{.}\PYG{n}{user}\PYG{o}{.}\PYG{n}{email}
        \PYG{n}{html\PYGZus{}content} \PYG{o}{=} \PYG{n}{html}\PYG{o}{.}\PYG{n}{render}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{username}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{request}\PYG{o}{.}\PYG{n}{user}\PYG{o}{.}\PYG{n}{username}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
        \PYG{n}{text\PYGZus{}content} \PYG{o}{=} \PYG{n}{txt}\PYG{o}{.}\PYG{n}{render}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{username}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:} \PYG{n}{request}\PYG{o}{.}\PYG{n}{user}\PYG{o}{.}\PYG{n}{username}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
        \PYG{n}{msg} \PYG{o}{=} \PYG{n}{EmailMultiAlternatives}\PYG{p}{(}\PYG{n}{subject}\PYG{p}{,} \PYG{n}{text\PYGZus{}content}\PYG{p}{,} \PYG{n}{\PYGZus{}from}\PYG{p}{,} \PYG{p}{[}\PYG{n}{to}\PYG{p}{]}\PYG{p}{)}
        \PYG{n}{msg}\PYG{o}{.}\PYG{n}{attach\PYGZus{}alternative}\PYG{p}{(}\PYG{n}{html\PYGZus{}content}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{text/html}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
        \PYG{n}{msg}\PYG{o}{.}\PYG{n}{send}\PYG{p}{(}\PYG{p}{)}
    \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{e}\PYG{p}{:}
        \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{e}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{error}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Unable to send email!}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{status}\PYG{o}{=}\PYG{l+m+mi}{500}\PYG{p}{)}
 
    \PYG{k}{return} \PYG{n}{JsonResponse}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{message}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Email sent successfully!}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{Module contents}
\label{\detokenize{mainApp:module-mainApp}}\label{\detokenize{mainApp:module-contents}}\index{module@\spxentry{module}!mainApp@\spxentry{mainApp}}\index{mainApp@\spxentry{mainApp}!module@\spxentry{module}}
\sphinxstepscope


\section{manage module}
\label{\detokenize{manage:module-manage}}\label{\detokenize{manage:manage-module}}\label{\detokenize{manage::doc}}\index{module@\spxentry{module}!manage@\spxentry{manage}}\index{manage@\spxentry{manage}!module@\spxentry{module}}
\sphinxAtStartPar
Django’s command\sphinxhyphen{}line utility for administrative tasks.
\index{main() (w module manage)@\spxentry{main()}\spxextra{w module manage}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{manage:manage.main}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{manage.}}\sphinxbfcode{\sphinxupquote{main}}}{}{}
\pysigstopsignatures
\sphinxAtStartPar
Run administrative tasks.

\end{fulllineitems}


\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+ch}{\PYGZsh{}!/usr/bin/env python}
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}Django\PYGZsq{}s command\PYGZhy{}line utility for administrative tasks.\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{k+kn}{import} \PYG{n+nn}{os}
\PYG{k+kn}{import} \PYG{n+nn}{sys}


\PYG{k}{def} \PYG{n+nf}{main}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}Run administrative tasks.\PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{n}{os}\PYG{o}{.}\PYG{n}{environ}\PYG{o}{.}\PYG{n}{setdefault}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{DJANGO\PYGZus{}SETTINGS\PYGZus{}MODULE}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{backend.settings}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
    \PYG{k}{try}\PYG{p}{:}
        \PYG{k+kn}{from} \PYG{n+nn}{django}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{management} \PYG{k+kn}{import} \PYG{n}{execute\PYGZus{}from\PYGZus{}command\PYGZus{}line}
    \PYG{k}{except} \PYG{n+ne}{ImportError} \PYG{k}{as} \PYG{n}{exc}\PYG{p}{:}
        \PYG{k}{raise} \PYG{n+ne}{ImportError}\PYG{p}{(}
            \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Couldn}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{t import Django. Are you sure it}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{s installed and }\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{available on your PYTHONPATH environment variable? Did you }\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{forget to activate a virtual environment?}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{p}{)} \PYG{k+kn}{from} \PYG{n+nn}{exc}
    \PYG{n}{execute\PYGZus{}from\PYGZus{}command\PYGZus{}line}\PYG{p}{(}\PYG{n}{sys}\PYG{o}{.}\PYG{n}{argv}\PYG{p}{)}


\PYG{k}{if} \PYG{n+nv+vm}{\PYGZus{}\PYGZus{}name\PYGZus{}\PYGZus{}} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZus{}\PYGZus{}main\PYGZus{}\PYGZus{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{:}
    \PYG{n}{main}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}


\chapter{Indices and tables}
\label{\detokenize{index:indices-and-tables}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{search}

\end{itemize}


\renewcommand{\indexname}{Indeks modułów Pythona}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{b}
\item\relax\sphinxstyleindexentry{backend}\sphinxstyleindexpageref{backend:\detokenize{module-backend}}
\item\relax\sphinxstyleindexentry{backend.asgi}\sphinxstyleindexpageref{backend:\detokenize{module-backend.asgi}}
\item\relax\sphinxstyleindexentry{backend.settings}\sphinxstyleindexpageref{backend:\detokenize{module-backend.settings}}
\item\relax\sphinxstyleindexentry{backend.urls}\sphinxstyleindexpageref{backend:\detokenize{module-backend.urls}}
\item\relax\sphinxstyleindexentry{backend.wsgi}\sphinxstyleindexpageref{backend:\detokenize{module-backend.wsgi}}
\indexspace
\bigletter{m}
\item\relax\sphinxstyleindexentry{mainApp}\sphinxstyleindexpageref{mainApp:\detokenize{module-mainApp}}
\item\relax\sphinxstyleindexentry{mainApp.admin}\sphinxstyleindexpageref{mainApp:\detokenize{module-mainApp.admin}}
\item\relax\sphinxstyleindexentry{mainApp.apps}\sphinxstyleindexpageref{mainApp:\detokenize{module-mainApp.apps}}
\item\relax\sphinxstyleindexentry{mainApp.decorators}\sphinxstyleindexpageref{mainApp:\detokenize{module-mainApp.decorators}}
\item\relax\sphinxstyleindexentry{mainApp.forms}\sphinxstyleindexpageref{mainApp:\detokenize{module-mainApp.forms}}
\item\relax\sphinxstyleindexentry{mainApp.models}\sphinxstyleindexpageref{mainApp:\detokenize{module-mainApp.models}}
\item\relax\sphinxstyleindexentry{mainApp.serializers}\sphinxstyleindexpageref{mainApp:\detokenize{module-mainApp.serializers}}
\item\relax\sphinxstyleindexentry{mainApp.tests}\sphinxstyleindexpageref{mainApp:\detokenize{module-mainApp.tests}}
\item\relax\sphinxstyleindexentry{mainApp.urls}\sphinxstyleindexpageref{mainApp:\detokenize{module-mainApp.urls}}
\item\relax\sphinxstyleindexentry{mainApp.views}\sphinxstyleindexpageref{mainApp:\detokenize{module-mainApp.views}}
\item\relax\sphinxstyleindexentry{manage}\sphinxstyleindexpageref{manage:\detokenize{module-manage}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Indeks}
\printindex
\end{document}